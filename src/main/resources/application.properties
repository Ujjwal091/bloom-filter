spring.application.name=bloom-filter

spring.datasource.username=postgres
spring.datasource.password=Abcd@1234
spring.datasource.url=jdbc:postgresql://localhost:5432/bloom-filter-db
spring.datasource.driver-class-name=org.postgresql.Driver

spring.data.jdbc.dialect=postgresql
spring.jpa.hibernate.ddl-auto=update

# Bloom Filter Configuration
# --------------------------
# Expected number of insertions (users) in the Bloom filter.
# Used to calculate optimal size and hash functions.
# Default: 10,000,000
bloom.filter.expected.insertions=10000000

# Desired false positive rate for the Bloom filter.
# Lower values result in larger filter size but fewer false positives.
# Default: 0.01 (1%)
bloom.filter.false.positive.rate=0.01

# Batch size for loading users from the database.
# Smaller values use less memory but require more database queries.
# Default: 10,000
bloom.filter.batch.size=10000

# Redis Configuration
# ----------------
# Whether to enable Redis for Bloom filter persistence
# If set to false, Redis operations will be skipped and the filter will always be built from the database
# Default: false (disabled by default since Redis might not be available in all environments)
bloom.filter.redis.enabled=true

# Redis connection URL
# Format: redis://[username:password@]host[:port][/database]
# Default: redis://localhost:6379
spring.data.redis.url=redis://localhost:6379

# Redis connection timeout in milliseconds
# Default: 2000
spring.data.redis.connect-timeout=2000

# Redis client type (lettuce or jedis)
# Default: lettuce
#spring.data.redis.client-type=lettuce

# Redis key for storing the Bloom filter
# Default: bloom:filter:usernames
bloom.filter.redis.key=bloom:filter:usernames

# Whether to rebuild the Bloom filter on startup even if a persisted version exists.
# Default: false
bloom.filter.force.rebuild=false

# Whether to save the Bloom filter to Redis after each username addition.
# This ensures data consistency across application restarts but may impact performance.
# Default: false
bloom.filter.save.on.add=false


# Legacy file persistence path (no longer used, kept for backward compatibility)
# bloom.filter.persistence.path=./data/bloom-filter.dat